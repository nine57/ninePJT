{% extends "base.html" %}
{% load static %}

{% block title %}
<title>Album</title>
{% endblock title %}

{% block stylesheet %}
<link rel="stylesheet" href="{% static 'css/albums/main.css' %}">
{% endblock stylesheet %}

{% block javascript %}
  <script src="{% static 'js/bootstrap/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'js/albums/main.js' %}"></script>
{% endblock javascript %}

{% block content %}
<div class="container">
  <nav class="mt-3"></nav>
  <div class="h1">
    Album
    {% if person != "" %}
    <div class="h6">for {{ person }}</div>
    {% endif %}
  </div>
  {% if is_test is True %}
  <div>
    <button type="button" onclick="window.location.href='{% url 'albums:upload' %}'">
      업로드 페이지
    </button>
    <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#imageUploadModal">
      사진 업로드
    </button>
    debug: {{ is_test }}
  </div>
  {% endif %}
  <div class="my-3">
    <div class="dropdown">
      <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown">
        멤버 선택
      </button>
      <ul class="dropdown-menu">
        <li><a class="dropdown-item" href="{% url 'albums:list' %}">전체</a></li>
      {% for person in people %}
        <li><a class="dropdown-item" href="{% url 'albums:list' %}?person={{ person.name }}">{{ person.name }}</a></li>
      {% endfor %}
      </ul>
    </div>
  </div>
  {% include "albums/upload-modal.html" %}
  <div class="p-2 image-area">
    {% for image in data%}
      <div class="m-2 image-container">
        <div class="image-item">
          <img src="{{ image.origin }}" alt="image" class="image"/>
          {% if image.caption != "" %}
            <div class="caption">{{ image.caption }}</div>
          {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>
  {% include "albums/page-bar.html" %}
</div>
{% endblock content %}
